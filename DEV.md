# 开发文档：日夜间切换 / 中英文切换 / 目录命名规范

## 范围与目标

- 仅涉及前端 UI 与资源组织，后端逻辑和协议不变。
- 保持实现最简，避免引入重依赖。
- 右上角提供日/夜切换与中/英文切换。
- 适配移动端与桌面端。

## 1) 日夜间切换（Theme）

### 目标

- 右上角切换日/夜；全局生效；刷新后保持。

### 设计

- 使用 CSS 变量与 `data-theme` 方式。
- 默认：优先读取本地存储；若无则跟随系统偏好。

### 实现步骤

1. 在全局样式中定义主题变量（如背景色、文本色、按钮色）。
2. 在根节点设置 `data-theme="light" | "dark"`。
3. 切换按钮变更主题并持久化到本地存储（如 `localStorage`）。
4. 初次加载时读取本地存储，并更新 `data-theme`。

### 涉及文件

- `frontend/src/index.css`
- `frontend/src/App.css`
- `frontend/src/App.tsx`
- `frontend/src/main.tsx`

### 验收

- 点击切换立即生效。
- 刷新后主题保持。
- 移动端布局不溢出、不遮挡。

## 2) 中英文切换（i18n-lite）

### 目标

- 右上角切换中文/英文；全页面文案可切换；刷新后保持。

### 设计

- 采用轻量字典对象 + `lang` 状态。
- 不引入 i18n 库；使用 `t(key)` 函数读取文案。
- 同步 `<html lang>` 值。

### 实现步骤

1. 定义 `messages` 映射：`{ zh: {...}, en: {...} }`。
2. 封装 `t(key)` 函数，根据当前语言取值。
3. 将页面文案替换为 key 调用。
4. 切换语言时写入本地存储，并更新 `<html lang>`。

### 涉及文件

- `frontend/src/App.tsx`
- `frontend/src/pages/*.tsx`
- `frontend/src/types.ts`（如需要新增类型）

### 验收

- 切换立即生效。
- 按钮文案随语言变化。
- 刷新后语言保持。
- 右上角 UI 不溢出。

## 3) 目录命名规范（无大写）

### 目标

- 任何目录名不含大写字母；确保跨平台一致性。

### 设计

- 仅限制目录名；文件名保持不变。

### 实现步骤

1. 扫描并确认是否存在大写目录名。
2. 如存在，规划重命名与引用路径更新。

### 建议检查命令

- `find frontend -type d -name '*[A-Z]*'`
- `find backend -type d -name '*[A-Z]*'`

### 验收

- 目录名扫描结果为空。
- 构建与运行不受影响。

## 建议的验收流程（前端）

1. 启动前端后检查右上角两个开关。
2. 切换主题与语言，观察立即生效。
3. 刷新页面验证持久化。
4. 移动端视图检查布局与按钮可用性。
